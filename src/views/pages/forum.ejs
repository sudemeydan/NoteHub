<%- include('../partials/header') %>
<div class="container mt-4">
    <div class="d-flex justify-content-between align-items-center mb-4">
        <h1 class="display-5">Forum</h1>
        <a href="/forum/yeni" class="btn btn-primary btn-lg">Yeni Konu Aç</a>
    </div>
    <%- include('../partials/messages') %>
    <div class="list-group">
        <% if (posts.length > 0) { %>
            <% posts.forEach(post => { %>
                <a href="/forum/<%= post.id %>" class="list-group-item list-group-item-action flex-column align-items-start">
                    <div class="d-flex w-100 justify-content-between">
                        <h5 class="mb-1"><%= post.title %></h5>
                        <small class="text-muted"><%= new Date(post.createdAt).toLocaleDateString('tr-TR') %></small>
                    </div>
                    <p class="mb-1"><%= post.content.substring(0, 150) %>...</p>
                    <small class="text-muted">Konuyu açan: <%= post.User.username %></small>
                </a>
            <% }) %>
        <% } else { %>
            <p class="text-center text-muted">Henüz hiç konu açılmamış.</p>
        <% } %>
    </div>
</div>
<%- include('../partials/footer') %>
